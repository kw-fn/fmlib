<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parser (fmlib.Fmlib_parse__.Character.Make.Parser)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">fmlib</a> &#x00BB; <a href="../../../index.html">Fmlib_parse__</a> &#x00BB; <a href="../../index.html">Character</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; Parser</nav><h1>Module <code>Make.Parser</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../Fmlib_parse/Interfaces/index.html#module-type-PARSER">Fmlib_parse.Interfaces.PARSER</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../Fmlib_parse/Interfaces/module-type-PARSER/index.html#type-token">token</a> = char <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../Fmlib_parse/Interfaces/module-type-PARSER/index.html#type-final">final</a> = <a href="../argument-2-Final/index.html#type-t">Final.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../Fmlib_parse/Interfaces/module-type-PARSER/index.html#type-expect">expect</a> = string * <span><a href="../../../../Fmlib_parse/Indent/index.html#type-violation">Fmlib_parse.Indent.violation</a> option</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../Fmlib_parse/Interfaces/module-type-PARSER/index.html#type-semantic">semantic</a> = <a href="../argument-3-Semantic/index.html#type-t">Semantic.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../../../Fmlib_parse/Interfaces/module-type-PARSER/index.html#type-state">state</a> = <a href="../argument-1-State/index.html#type-t">State.t</a></code></span></summary><aside><p>A parser <code>p</code> is a sink of token. As long as it signals <code>needs_more p</code> more token can be pushed into the parser via <code>put token p</code> or the input stream can be ended via <code>put_end p</code>.</p><p>If the parser does not need more token (<code>has_ended p</code> is equivalent to <code>not (needs_more p)</code>), then it has either succeeded or failed.</p><p>If it has succeeded the final value is available via <code>final p</code>.</p><p>There are two types of failure:</p><ul><li>Syntax error: In that case <code>failed_expectations p</code> returns the list of failed expectations.</li></ul><ul><li>Semantic error: In that case <code>failed_semantic p</code> returns the encountered semantic error.</li></ul><p>The function <code>state</code> returns the user state.</p><p>The function <code>lookaheads</code> returns a pair. The first part of the pair is an array of unprocessed lookahead token and the second part is a flag indicating if the endtoken has been received via <code>put_end</code>.</p></aside><dl><dt class="spec type" id="type-token"><a href="#type-token" class="anchor"></a><code><span class="keyword">type</span> token</code><code> = char</code></dt><dd><p>Token type.</p></dd></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = <a href="../argument-1-State/index.html#type-t">State.t</a></code></dt><dd><p>User state.</p></dd></dl><dl><dt class="spec type" id="type-final"><a href="#type-final" class="anchor"></a><code><span class="keyword">type</span> final</code><code> = <a href="../argument-2-Final/index.html#type-t">Final.t</a></code></dt><dd><p>Type of the final object constructed in case of success.</p></dd></dl><dl><dt class="spec type" id="type-expect"><a href="#type-expect" class="anchor"></a><code><span class="keyword">type</span> expect</code><code> = string * <span><a href="../../../../Fmlib_parse/Indent/index.html#type-violation">Fmlib_parse.Indent.violation</a> option</span></code></dt><dd><p>Type of a failed expectation.</p></dd></dl><dl><dt class="spec type" id="type-semantic"><a href="#type-semantic" class="anchor"></a><code><span class="keyword">type</span> semantic</code><code> = <a href="../argument-3-Semantic/index.html#type-t">Semantic.t</a></code></dt><dd><p>Type a semantic error.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Type of the final parser.</p></dd></dl><dl><dt class="spec value" id="val-needs_more"><a href="#val-needs_more" class="anchor"></a><code><span class="keyword">val</span> needs_more : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>needs_more p</code> Does the parser <code>p</code> need more token?</p></dd></dl><dl><dt class="spec value" id="val-has_ended"><a href="#val-has_ended" class="anchor"></a><code><span class="keyword">val</span> has_ended : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_ended p</code> Has the parser <code>p</code> ended parsing and either succeeded or failed?</p><p><code>has_ended p</code> is the same as <code>not (needs_more p)</code></p></dd></dl><dl><dt class="spec value" id="val-put"><a href="#val-put" class="anchor"></a><code><span class="keyword">val</span> put : <a href="index.html#type-token">token</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>put token p</code> Push <code>token</code> into the parser <code>p</code>.</p><p>Even if the parser has ended, more token can be pushed into the parser. The parser stores the token as lookahead token.</p></dd></dl><dl><dt class="spec value" id="val-put_end"><a href="#val-put_end" class="anchor"></a><code><span class="keyword">val</span> put_end : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>put_end p</code> Push and end token into the parser <code>p</code>.</p></dd></dl><dl><dt class="spec value" id="val-has_succeeded"><a href="#val-has_succeeded" class="anchor"></a><code><span class="keyword">val</span> has_succeeded : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_succeeded p</code> Has the parser <code>p</code> succeeded?</p></dd></dl><dl><dt class="spec value" id="val-has_failed_syntax"><a href="#val-has_failed_syntax" class="anchor"></a><code><span class="keyword">val</span> has_failed_syntax : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_failed_syntax p</code> Has the parser <code>p</code> failed with a syntax error?</p></dd></dl><dl><dt class="spec value" id="val-has_failed_semantic"><a href="#val-has_failed_semantic" class="anchor"></a><code><span class="keyword">val</span> has_failed_semantic : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_failed_semantic p</code> Has the parser <code>p</code> failed with a semantic error?</p></dd></dl><dl><dt class="spec value" id="val-final"><a href="#val-final" class="anchor"></a><code><span class="keyword">val</span> final : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-final">final</a></code></dt><dd><p><code>final p</code> The final object constructed by the parser <code>p</code> in case of success.</p><p>Precondition: <code>has_succeeded p</code></p></dd></dl><dl><dt class="spec value" id="val-failed_expectations"><a href="#val-failed_expectations" class="anchor"></a><code><span class="keyword">val</span> failed_expectations : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-expect">expect</a> list</span></code></dt><dd><p><code>failed_expectations p</code> The failed expectations due to a syntax error.</p><p>Precondition: <code>has_failed_syntax p</code></p></dd></dl><dl><dt class="spec value" id="val-failed_semantic"><a href="#val-failed_semantic" class="anchor"></a><code><span class="keyword">val</span> failed_semantic : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-semantic">semantic</a></code></dt><dd><p><code>failed_semantic p</code> The failed semantic error.</p><p>Precondition: <code>has_failed_semantic p</code></p></dd></dl><dl><dt class="spec value" id="val-state"><a href="#val-state" class="anchor"></a><code><span class="keyword">val</span> state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dd><p><code>state p</code> The user state of the parser <code>p</code>.</p><p>Can be called at any time.</p></dd></dl><dl><dt class="spec value" id="val-lookaheads"><a href="#val-lookaheads" class="anchor"></a><code><span class="keyword">val</span> lookaheads : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-token">token</a> array</span> * bool</code></dt><dd><p><code>lookaheads p</code> The lookahead token and and end flag of the parser <code>p</code>.</p><p>The end flag indicates, if the end token has already been received via <code>put_end p</code>.</p></dd></dl></details></div></div></div><dl><dt class="spec value" id="val-position"><a href="#val-position" class="anchor"></a><code><span class="keyword">val</span> position : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../Fmlib_parse/Position/index.html#type-t">Fmlib_parse.Position.t</a></code></dt><dd><p><code>position p</code> The current position in the input stream.</p><p>Can be called at any time.</p></dd></dl><dl><dt class="spec value" id="val-line"><a href="#val-line" class="anchor"></a><code><span class="keyword">val</span> line : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>line p</code> The current line in the input stream.</p><p>Can be called at any time.</p></dd></dl><dl><dt class="spec value" id="val-column"><a href="#val-column" class="anchor"></a><code><span class="keyword">val</span> column : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>column p</code> The current column in the input stream.</p><p>Can be called at any time.</p></dd></dl><dl><dt class="spec value" id="val-run_on_string"><a href="#val-run_on_string" class="anchor"></a><code><span class="keyword">val</span> run_on_string : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>run_on_string str p</code> Run the parser <code>p</code> on the string <code>str</code>.</p></dd></dl></div></body></html>